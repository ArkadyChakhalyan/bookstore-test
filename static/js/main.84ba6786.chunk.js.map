{"version":3,"sources":["components/book-list/book-list.module.css","components/app/app.module.css","components/error-indicator/error-indicator.module.css","components/loader/loader.module.css","components/loader/loader.tsx","actions/actions.tsx","services/bookstore-service.tsx","services/key.tsx","components/book-list/book-item/book-list-item.tsx","components/book-page/book-page.tsx","components/book-list/book-list.tsx","components/header/header.tsx","components/app/app.tsx","reducers/reducer.tsx","store.tsx","components/error-indicator/error-indicator.tsx","components/error-indicator/error-boundry/error-boundry.tsx","index.tsx","components/header/header.module.css","components/book-page/book-page.module.css","components/book-list/book-item/book-list-item.module.css"],"names":["module","exports","Loader","className","styles","outside","inside","fetchBooksTC","bookstoreService","search","dispatch","type","getBooks","then","data","payload","catch","err","BookstoreService","_apiBase","_pagination","getResource","searchTerm","sortBy","startAt","category","a","searchTermAdjusted","split","join","sortedBy","startIndex","sortByCategory","fetch","res","ok","Error","status","json","_transformBook","booksFound","totalItems","booksLoaded","items","map","item","book","id","authors","volumeInfo","title","categories","description","image","imageLinks","thumbnail","BookListItem","setPage","authorList","container","onClick","style","backgroundImage","info","author","BookPage","goBack","window","scrollTo","categoryList","page","button","buttonText","left","right","BookList","loading","useSelector","state","books","currentSearch","useDispatch","loadMore","length","toString","useState","setBook","text","list","load","Header","setSearchTerm","setSortBy","setCategory","useSearchParams","setSearchParams","onSubmit","onFirstSearch","useEffect","form","onKeyPress","e","key","input","onChange","target","value","placeholder","sorting","label","options","sortby","App","error","bookList","start","app","initialState","onBooksLoaded","newBooks","onFailure","onContinueSearch","onClearSearch","onClearData","store","createStore","action","applyMiddleware","thunkMiddleware","ErrorIndicator","setError","navigate","useNavigate","ErrorBoundry","setState","this","props","children","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.84ba6786.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"book-list_page__2LTpT\",\"text\":\"book-list_text__3fJgN\",\"list\":\"book-list_list__3ViVm\",\"load\":\"book-list_load__3EOCR\",\"button\":\"book-list_button__1QD5D\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"app_app__M9MMq\",\"start\":\"app_start__1JS1W\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"error-indicator_error__1rsSk\",\"title\":\"error-indicator_title__h9uQQ\",\"button\":\"error-indicator_button__3h7hC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inside\":\"loader_inside__2XuVw\",\"animation\":\"loader_animation__226S_\",\"outside\":\"loader_outside__cVwyH\"};","import styles from './loader.module.css';\n\nexport const Loader = () => {\n    return (\n        <div className={styles.outside}>\n            <div className={styles.inside}>\n                <div />\n            </div>\n        </div>\n    );\n};","import { Dispatch } from \"redux\";\nimport { SearchType, ServiceType } from \"../types\";\n\nconst booksRequested = () => {\n    return {\n        type: 'FETCH_BOOKS_REQUEST',\n    } as const;\n};\n\nconst booksLoaded = (newBooks: ServiceType) => {\n    return {\n        type: 'FETCH_BOOKS_SUCCESS',\n        payload: newBooks\n    } as const;\n};\n\nconst booksError = (error: object) => {\n    return {\n        type: 'FETCH_BOOKS_FAILURE',\n        payload: error\n    } as const;\n};\n\nconst clearData = () => {\n    return {\n        type: 'CLEAR_DATA'\n    } as const;\n};\n\nconst onFirstSearch = (search: SearchType) => {\n    return {\n        type: 'ON_FIRST_SEARCH',\n        payload: search\n    } as const;\n};\n\nconst onContinueSearch = (startAt: string) => {\n    return {\n        type: 'ON_CONTINUE_SEARCH',\n        payload: startAt\n    } as const;\n};\n\nconst clearSearch = () => {\n    return {\n        type: 'CLEAR_SEARCH'\n    } as const;\n};\n\nconst fetchBooksTC = (bookstoreService: any, search: SearchType) => {\n    return (dispatch: Dispatch) => { \n        dispatch(booksRequested());\n        bookstoreService.getBooks(search)\n            .then((data: ServiceType) => dispatch(booksLoaded(data)))\n            .catch((err: object) => dispatch(booksError(err)));\n    };\n};\n       \nexport {\n    booksRequested,\n    booksLoaded,\n    booksError,\n    fetchBooksTC,\n    onFirstSearch,\n    onContinueSearch,\n    clearSearch,\n    clearData\n};","import { BookType, SearchType } from \"../types\";\nimport { key } from \"./key\";\n\nexport default class BookstoreService {\n\n    _apiBase = 'https://www.googleapis.com/books/v1/volumes?q=';\n\n    _pagination = 30;\n\n    getResource = async (searchTerm: string, sortBy?: string, startAt?: string, category?: string) => {\n\n        const { _apiBase, _pagination } = this;\n\n        const searchTermAdjusted: string = searchTerm.split(' ').join('+');\n\n        const sortedBy = sortBy === 'newest' ? '&orderBy=newest' : '';\n        const startIndex = startAt ? `&startIndex=${startAt}` : '';\n        const sortByCategory = category !== 'all' ? `+subject:${category}`: '';\n        \n        const res = await fetch(\n            `${_apiBase}${searchTermAdjusted}${sortByCategory}&maxResults=${_pagination}${startIndex}${sortedBy}&printType=books&key=${key}`\n        );\n\n        if (!res.ok) {\n            throw new Error(`Could not fetch ${searchTerm}` +\n                `, recieved ${res.status}`)\n        }\n\n        return await res.json();\n    };\n\n    getBooks = async (search: SearchType) => {\n\n        const { searchTerm, sortBy, category, startAt } = search;\n        const { getResource, _transformBook } = this;\n\n\n        const res = await getResource(searchTerm, sortBy, startAt, category);\n        \n        return {\n            booksFound: res.totalItems,\n            booksLoaded: res.items.map((item: any) => {\n                return _transformBook(item);\n            })\n        };\n    };\n\n    _transformBook = (book: any): BookType => {\n        return {\n            id: book.id,\n            authors: book.volumeInfo.authors || [''],\n            title: book.volumeInfo.title || '',\n            categories: book.volumeInfo.categories || [''],\n            description: book.volumeInfo.description || '',\n            image: book.volumeInfo.imageLinks.thumbnail || ''\n        };\n    };\n};","export const key = 'AIzaSyBeHQfr0O1DTsjDhj1eYM3r8LTwWfjwlyQ';","import { BookType } from '../../../types';\nimport styles from './book-list-item.module.css';\n\ntype BookListItemPropsType = {\n    book: BookType,\n    setPage: Function\n}\n\nexport const BookListItem = ({ book, setPage }: BookListItemPropsType) => {\n\n    const { title, categories, authors, image } = book;\n\n    const onClick = () => {\n        setPage(book);\n    };\n\n    const authorList = authors.join(' / ');\n\n    return (\n        <div\n            className={styles.container}\n            onClick={() => onClick()} >\n            <div className={styles.image} style={{ backgroundImage: `url(${image})` }} />\n            <div className={styles.info}>\n                <p className={styles.category}>\n                    {categories[0]}\n                </p>\n                <p className={styles.title}>\n                    {title}\n                </p>\n                <p className={styles.author}>\n                    {authorList}\n                </p>\n            </div>\n        </div>\n    );\n};","import { BookType } from '../../types';\nimport styles from './book-page.module.css';\n\ntype BookPagePropsType = {\n    book: BookType\n    goBack: Function\n}\n\nexport const BookPage = ({ book, goBack }: BookPagePropsType) => {\n\n    window.scrollTo(0,0);\n\n    const { title, image, categories, authors, description } = book;\n    \n    const categoryList = categories.join(' / ');\n    const authorList = authors.join(' / ');\n\n    return (\n        <div className={styles.page} >\n            <button\n                className={styles.button}\n                onClick={() => goBack()} >\n                <i className='fas fa-angle-left fa-2x' />\n                <p className={styles.buttonText} >back</p>\n            </button>\n            <div className={styles.left} >\n                <div className={styles.image} style={{ backgroundImage: `url(${image})` }} />\n            </div>\n            <div className={styles.right} >\n                <p className={styles.category} >{categoryList}</p>\n                <p className={styles.title} >{title}</p>\n                <p className={styles.author} >{authorList}</p>\n                <div className={styles.container} >\n                    <p className={styles.description} >{description}</p>\n                </div>\n            </div>\n        </div>\n    );\n};","import { Loader } from '../loader/loader';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { BookType, StateType } from '../../types';\nimport styles from './book-list.module.css';\nimport { fetchBooksTC, onContinueSearch } from '../../actions/actions';\nimport BookstoreService from '../../services/bookstore-service';\nimport { BookListItem } from './book-item/book-list-item';\nimport { BookPage } from '../book-page/book-page';\nimport { useState } from 'react';\n\nconst bookstoreService = new BookstoreService();\n\nexport const BookList = () => {\n\n    const loading = useSelector((state: StateType) => state.loading);\n    const booksFound = useSelector((state: StateType) => state.books.booksFound);\n    const booksLoaded = useSelector((state: StateType) => state.books.booksLoaded);\n    const currentSearch = useSelector((state: StateType) => state.currentSearch);\n\n    const dispatch = useDispatch();\n\n    const onClick = () => {\n\n        const search = {\n            ...currentSearch,\n            startAt: booksLoaded.length.toString()\n        };\n\n        dispatch(fetchBooksTC(bookstoreService, search));\n        dispatch(onContinueSearch(booksLoaded.length.toString()));\n    };\n\n    const loadMore = loading ? <Loader /> :\n        (\n            <button\n                className={styles.button}\n                onClick={onClick} >\n                Load more\n            </button>\n        );\n\n    const [book, setBook] = useState(null)\n\n    if (book) {\n        return (\n            <BookPage\n                book={book}\n                goBack={() => setBook(null)} />\n        );\n    }\n\n    return (\n        <div className={styles.page} >\n            <p className={styles.text}><b>{booksFound}</b> books found</p>\n            <ul className={styles.list} >\n                {\n                    booksLoaded.map((item: BookType) => {\n                        return (\n                            <li key={item.id} >\n                                <BookListItem\n                                    book={item}\n                                    setPage={(book: any) => {\n                                        setBook(book)\n                                    }} />\n                            </li>\n                        );\n                    })\n                }\n            </ul>\n            <div className={styles.load}>\n                {booksLoaded.length >= booksFound ? null : loadMore}\n            </div>\n        </div>\n    );\n};","import { useState, ChangeEvent, KeyboardEvent, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useSearchParams } from 'react-router-dom';\nimport { clearData, clearSearch, fetchBooksTC, onFirstSearch } from '../../actions/actions';\nimport BookstoreService from '../../services/bookstore-service';\nimport { StateType } from '../../types';\nimport { Loader } from '../loader/loader';\nimport styles from './header.module.css';\n\nconst bookstoreService = new BookstoreService();\n\nexport const Header = () => {\n\n    const loading = useSelector((state: StateType) => state.loading);\n    const booksLoaded = useSelector((state: StateType) => state.books.booksLoaded);\n\n    const dispatch = useDispatch();\n    \n    const [searchTerm, setSearchTerm] = useState('');\n    const [sortBy, setSortBy] = useState('relevance');\n    const [category, setCategory] = useState('all');\n\n    const [searchParams, setSearchParams] = useSearchParams();\n\n    const onSubmit = () => {\n\n        const search = {\n            searchTerm: searchTerm,\n            category: category,\n            sortBy: sortBy,\n            startAt: '0'\n        };\n\n        setSearchParams(search);\n        \n        dispatch(clearData());\n        dispatch(fetchBooksTC(bookstoreService, search));\n        dispatch(onFirstSearch(search));\n    };\n\n    useEffect(() => {\n        if (booksLoaded.length > 0) {\n            onSubmit();\n        };\n    }, [sortBy, category]);\n\n    useEffect(() => {\n        dispatch(clearSearch());\n        setSearchParams({});\n    }, [searchTerm, dispatch]);\n\n    const onKeyPress = (e: KeyboardEvent<HTMLFormElement>) => {\n        if (e.key === 'Enter') onSubmit();\n    };\n\n    const onSearchChange = (e: ChangeEvent<HTMLInputElement>) => {\n        setSearchTerm(e.target.value);\n    };\n\n    const onCategoryChange = (e: ChangeEvent<HTMLSelectElement>) => {\n        setCategory(e.target.value);\n    };\n\n    const onSortByChange = (e: ChangeEvent<HTMLSelectElement>) => {\n        setSortBy(e.target.value);\n    };\n\n    const search = loading ? <Loader />\n        : <button className={styles.button} type='submit'>\n            <i className=\"fas fa-search\"></i>\n        </button>;\n\n    return (\n        <div className={styles.container} >\n            <h1 className={styles.title} >\n                Search for books\n            </h1>\n            <form\n                className={styles.form}\n                onSubmit={onSubmit}\n                onKeyPress={onKeyPress}>\n                <div className={styles.search} >\n                    <input\n                        className={styles.input}\n                        onChange={onSearchChange}\n                        placeholder='Search' />\n                    <span className={styles.button} >\n                        {search}\n                    </span>\n                </div>\n                <div className={styles.sorting} >\n                    <span className={styles.categories} >\n                        <label className={styles.label} >Categories</label>\n                        <select\n                            className={styles.options}\n                            onChange={onCategoryChange} >\n                            <option>all</option>\n                            <option>art</option>\n                            <option>biography</option>\n                            <option>computers</option>\n                            <option>history</option>\n                            <option>medical</option>\n                            <option>poetry</option>\n                        </select>\n                    </span>\n                    <span className={styles.sortby} >\n                        <label className={styles.label} >Sorting by</label>\n                        <select\n                            className={styles.options}\n                            onChange={onSortByChange} >\n                            <option>relevance</option>\n                            <option>newest</option>\n                        </select>\n                    </span>\n                </div>\n            </form>\n        </div>\n    );\n};","import { useSelector } from \"react-redux\";\nimport { StateType } from \"../../types\";\nimport { BookList } from \"../book-list/book-list\";\nimport { Header } from \"../header/header\";\nimport { Loader } from \"../loader/loader\";\nimport styles from './app.module.css';\n\nexport const App = () => {\n\n    const booksLoaded = useSelector((state: StateType) => state.books.booksLoaded);\n    const loading = useSelector((state: StateType) => state.loading);\n    const error = useSelector((state: StateType) => state.error);\n\n    const bookList = booksLoaded.length > 0 ?\n        <BookList />\n        : loading ? <Loader />\n            : error ?\n                <p className={styles.start}>We couldn't find anything, try again!</p>\n                : <p className={styles.start}>Start searching for the book!</p>;\n\n    return (\n        <div className={styles.app}>\n            <Header />\n            {bookList}\n        </div>\n    );\n};\n\n","import { StateType, ActionTypes, ServiceType, SearchType } from \"../types\";\n\nconst initialState: StateType = {\n    books: {\n        booksFound: 0,\n        booksLoaded: []\n    },\n    currentSearch: {\n        searchTerm: '',\n        category: 'all',\n        sortBy: 'relevance',\n        startAt: '0'\n    },\n    loading: false,\n    error: null\n}\n\nexport const reducer = (state: StateType | undefined = initialState, action: ActionTypes): StateType => {\n\n    switch (action.type) {\n        case 'FETCH_BOOKS_REQUEST':\n            return {\n                ...state,\n                loading: true,\n                error: null\n            };\n        case 'FETCH_BOOKS_SUCCESS':\n            return onBooksLoaded(state, action.payload);\n        case 'FETCH_BOOKS_FAILURE':\n            return onFailure(state, action.payload);\n        case 'ON_FIRST_SEARCH':\n            return onFirstSearch(state, action.payload);\n        case 'ON_CONTINUE_SEARCH':\n            return onContinueSearch(state, action.payload);\n        case 'CLEAR_SEARCH':\n            return onClearSearch(state);\n        case 'CLEAR_DATA':\n            return onClearData(state);\n        default:\n            return state;\n    }\n};\n\nconst onBooksLoaded = (state: StateType, payload: ServiceType) => {\n    \n    const { books } = state;\n\n    const newBooks = [\n        ...books.booksLoaded,\n        ...payload.booksLoaded\n    ]\n\n    return {\n        ...state,\n        books: {\n            booksFound: payload.booksFound,\n            booksLoaded: newBooks\n        },\n        loading: false,\n        error: null\n    }\n};\n\nconst onFailure = (state: StateType, payload: object) => {\n    return {\n        ...state,\n        loading: false,\n        error: payload\n    };\n};\n\nconst onFirstSearch = (state: StateType, payload: SearchType) => {\n    return {\n        ...state,\n        currentSearch: payload\n    };\n};\n\nconst onContinueSearch = (state: StateType, payload: string) => {\n    return {\n        ...state,\n        currentSearch: {\n            ...state.currentSearch,\n            startAt: payload\n        }\n    };\n};\n\nconst onClearSearch = (state: StateType) => {\n    return {\n        ...state,\n        currentSearch: {\n            searchTerm: '',\n            category: 'all',\n            sortBy: 'relevance',\n            startAt: '0'\n        }\n    };\n};\n\nconst onClearData = (state: StateType) => {\n    return {\n        ...state,\n        books: {\n            booksFound: 0,\n            booksLoaded: []\n        }\n    };\n};\n","import { createStore, applyMiddleware } from \"redux\";\nimport thunkMiddleware from \"redux-thunk\";\nimport { reducer } from \"./reducers/reducer\";\n\nexport const store = createStore(reducer, applyMiddleware(thunkMiddleware));","import { useNavigate } from 'react-router';\nimport styles from './error-indicator.module.css';\n\ntype ErrorIndicatorPropsTypes = {\n    setError: Function\n}\n\nexport const ErrorIndicator = ({ setError }: ErrorIndicatorPropsTypes ) => {\n\n    const navigate = useNavigate();\n\n    const onClick = () => {\n        setError();\n        navigate('/');\n    };\n\n    return (\n        <div className={styles.error}>\n            <p className={styles.title}>Error!</p>\n            <p>Something went wrong, try again!</p>\n            <button\n                className={styles.button}\n                onClick={onClick} >\n                Go to homepage\n            </button>\n        </div>\n    );\n};","import { Component } from 'react';\nimport { ErrorIndicator } from '../error-indicator';\n\nexport default class ErrorBoundry extends Component { \n    \n    state = {\n        error: false\n    };\n\n    componentDidCatch() {\n        this.setState({ error: true });\n    };\n\n    setError = () => {\n        this.setState({ error: false });\n    };\n\n    render() {\n        if (this.state.error) {\n            return <ErrorIndicator setError={this.setError} />;\n        }\n\n        return this.props.children;\n    };\n};","import { StrictMode } from 'react';\nimport { Provider } from 'react-redux';\nimport { HashRouter as Router } from 'react-router-dom';\nimport { App } from './components/app/app';\nimport { store } from './store';\nimport ReactDOM from 'react-dom';\nimport ErrorBoundry from './components/error-indicator/error-boundry/error-boundry';\nimport './index.css';\n\nReactDOM.render(\n  <StrictMode>\n    <Provider store={store}>\n      <Router>\n        <ErrorBoundry>\n          <App />\n        </ErrorBoundry>\n      </Router>\n    </Provider>\n  </StrictMode>,\n  document.getElementById('root')\n);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"header_container__Qg6Mi\",\"title\":\"header_title__1DXxp\",\"input\":\"header_input__2cfQn\",\"sorting\":\"header_sorting__1op8t\",\"form\":\"header_form__CKDVN\",\"label\":\"header_label__5gY9r\",\"options\":\"header_options__2uQYe\",\"categories\":\"header_categories__Hrmmh\",\"sortby\":\"header_sortby__2njdc\",\"search\":\"header_search__130F1\",\"button\":\"header_button__G3RR8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"book-page_page__3w5u0\",\"left\":\"book-page_left__2JpXO\",\"image\":\"book-page_image__38L3Z\",\"right\":\"book-page_right__2th9H\",\"category\":\"book-page_category__iB54K\",\"title\":\"book-page_title__1Hoja\",\"author\":\"book-page_author__2cELh\",\"container\":\"book-page_container__2guiP\",\"description\":\"book-page_description__kSeF4\",\"button\":\"book-page_button__8cSDH\",\"buttonText\":\"book-page_buttonText__2G3oX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"book-list-item_container__3YSdd\",\"info\":\"book-list-item_info__1v0FZ\",\"category\":\"book-list-item_category__3g5Ki\",\"author\":\"book-list-item_author__36aul\",\"title\":\"book-list-item_title__3jXk-\",\"image\":\"book-list-item_image__1KfFU\"};"],"sourceRoot":""}